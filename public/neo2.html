<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–≠–∫—Å–ø–µ—Ä—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥–±–æ—Ä–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f7fa;
        }

        h1 {
            color: #2c3e50;
            text-align: center;
        }

        .question {
            background: white;
            margin: 15px 0;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #34495e;
        }

        input, select, textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        button {
            background: #3498db;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
        }

            button:hover {
                background: #2980b9;
            }

        #mic-btn {
            background: #e74c3c;
        }

            #mic-btn.active {
                background: #c0392b;
            }

        #results {
            margin-top: 30px;
            padding: 20px;
            background: #ecf0f1;
            border-radius: 8px;
            display: none;
        }

        .result-item {
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-left: 4px solid #27ae60;
        }

        .loading {
            text-align: center;
            color: #7f8c8d;
            font-style: italic;
        }
    </style>
</head>
<body>
    <h1>üöÄ –≠–∫—Å–ø–µ—Ä—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥–±–æ—Ä–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏</h1>
    <p>–û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã ‚Äî —Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥–±–µ—Ä—ë—Ç –≤–∞–º –∏–¥–µ–∞–ª—å–Ω—É—é –∫–∞—Ä—å–µ—Ä—É. –ú–æ–∂–Ω–æ –≤–≤–æ–¥–∏—Ç—å —Ç–µ–∫—Å—Ç –∏–ª–∏ –≥–æ–≤–æ—Ä–∏—Ç—å!</p>

    <div id="form-container">
        <!-- –í–æ–ø—Ä–æ—Å—ã -->
        <div class="question">
            <label>1. –ö–∞–∫ –≤—ã –æ–ø–∏—Å—ã–≤–∞–µ—Ç–µ —Å–≤–æ—é —ç–Ω–µ—Ä–≥–∏—á–Ω–æ—Å—Ç—å? (–≠–∫—Å—Ç—Ä–∞–≤–µ—Ä—Ç / –ò–Ω—Ç—Ä–æ–≤–µ—Ä—Ç)</label>
            <input type="text" id="q1" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: —è –ª—é–±–ª—é –æ–±—â–∞—Ç—å—Å—è —Å –ª—é–¥—å–º–∏" />
            <button id="mic-btn">üé§ –ì–æ–≤–æ—Ä–∏—Ç—å</button>
        </div>

        <div class="question">
            <label>2. –ß—Ç–æ –¥–ª—è –≤–∞—Å –≤–∞–∂–Ω–µ–µ –≤—Å–µ–≥–æ –≤ —Ä–∞–±–æ—Ç–µ?</label>
            <select id="q2">
                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ...</option>
                <option value="–¥–µ–Ω—å–≥–∏">–î–µ–Ω—å–≥–∏</option>
                <option value="—Å–≤–æ–±–æ–¥–∞">–°–≤–æ–±–æ–¥–∞ / –≥–∏–±–∫–∏–π –≥—Ä–∞—Ñ–∏–∫</option>
                <option value="—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å">–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å</option>
                <option value="—Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ">–¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ</option>
                <option value="–ø–æ–º–æ—â—å">–ü–æ–º–æ–≥–∞—Ç—å –¥—Ä—É–≥–∏–º</option>
                <option value="–≤–ª–∏—è–Ω–∏–µ">–í–ª–∏—è–Ω–∏–µ / –ª–∏–¥–µ—Ä—Å—Ç–≤–æ</option>
            </select>
        </div>

        <div class="question">
            <label>3. –ö–∞–∫ –≤—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ—Å—å –∫ —Ä—É—Ç–∏–Ω–µ?</label>
            <select id="q3">
                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ...</option>
                <option value="–Ω–µ–Ω–∞–≤–∏–∂—É">–ù–µ–Ω–∞–≤–∏–∂—É ‚Äî —Ö–æ—á—É –Ω–æ–≤–∏–∑–Ω—ã</option>
                <option value="—Ç–µ—Ä–ø–∏–º–æ">–¢–µ—Ä–ø–∏–º–æ ‚Äî –º–æ–∂–Ω–æ –∏ —Ä—É—Ç–∏–Ω—É</option>
                <option value="–ª—é–±–ª—é">–õ—é–±–ª—é ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–µ–Ω—è —É—Å–ø–æ–∫–∞–∏–≤–∞–µ—Ç</option>
            </select>
        </div>

        <div class="question">
            <label>4. –ö–∞–∫–∏–µ –Ω–∞–≤—ã–∫–∏ —É –≤–∞—Å —Ä–∞–∑–≤–∏—Ç—ã –ª—É—á—à–µ –≤—Å–µ–≥–æ? (–Ω–∞–ø—Ä–∏–º–µ—Ä: –ø–∏—Å–∞—Ç—å, —Å—á–∏—Ç–∞—Ç—å, —Ä–∏—Å–æ–≤–∞—Ç—å, –æ–±—â–∞—Ç—å—Å—è)</label>
            <textarea id="q4" rows="3" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à–∏ —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã..."></textarea>
            <button id="mic-btn2">üé§ –ì–æ–≤–æ—Ä–∏—Ç—å</button>
        </div>

        <div class="question">
            <label>5. –í—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ —Ä–∞–±–æ—Ç–∞—Ç—å:</label>
            <select id="q5">
                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ...</option>
                <option value="–æ–¥–∏–Ω">–û–¥–∏–Ω / —É–¥–∞–ª—ë–Ω–Ω–æ</option>
                <option value="–∫–æ–º–∞–Ω–¥–∞">–í –∫–æ–º–∞–Ω–¥–µ</option>
                <option value="–∫–ª–∏–µ–Ω—Ç—ã">–° –∫–ª–∏–µ–Ω—Ç–∞–º–∏ / –ø—É–±–ª–∏—á–Ω–æ</option>
            </select>
        </div>

        <div class="question">
            <label>6. –ù–∞—Å–∫–æ–ª—å–∫–æ –≤—ã —Å—Ç—Ä–µ—Å—Å–æ—É—Å—Ç–æ–π—á–∏–≤—ã?</label>
            <select id="q6">
                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ...</option>
                <option value="–≤—ã—Å–æ–∫–∞—è">–í—ã—Å–æ–∫–∞—è ‚Äî —Ä–∞–±–æ—Ç–∞—é –≤ –∫—Ä–∏–∑–∏—Å–∞—Ö</option>
                <option value="—Å—Ä–µ–¥–Ω—è—è">–°—Ä–µ–¥–Ω—è—è ‚Äî –º–æ–≥—É, –Ω–æ –Ω–µ —á–∞—Å—Ç–æ</option>
                <option value="–Ω–∏–∑–∫–∞—è">–ù–∏–∑–∫–∞—è ‚Äî –Ω—É–∂–µ–Ω —Å–ø–æ–∫–æ–π–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫</option>
            </select>
        </div>

        <div class="question">
            <label>7. –ö–∞–∫–æ–π —É—Ä–æ–≤–µ–Ω—å –¥–æ—Ö–æ–¥–∞ –≤–∞—Å —É—Å—Ç—Ä–æ–∏—Ç —á–µ—Ä–µ–∑ 3 –≥–æ–¥–∞?</label>
            <select id="q7">
                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ...</option>
                <option value="–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π">–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π ‚Äî –¥–ª—è –∂–∏–∑–Ω–∏</option>
                <option value="—Å—Ä–µ–¥–Ω–∏–π">–°—Ä–µ–¥–Ω–∏–π ‚Äî –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ</option>
                <option value="–≤—ã—Å–æ–∫–∏–π">–í—ã—Å–æ–∫–∏–π ‚Äî –±–æ–ª—å—à–µ 150–∫/–º–µ—Å</option>
            </select>
        </div>

        <div class="question">
            <label>8. –ì–æ—Ç–æ–≤—ã –ª–∏ –≤—ã –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –¥–æ–ª–≥–æ–µ –æ–±—É—á–µ–Ω–∏–µ (2+ –≥–æ–¥–∞)?</label>
            <select id="q8">
                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ...</option>
                <option value="–¥–∞">–î–∞</option>
                <option value="–Ω–µ—Ç">–ù–µ—Ç</option>
            </select>
        </div>

        <div class="question">
            <label>9. –ö–∞–∫–∏–µ —Ç–µ–º—ã –≤–∞—Å —É–≤–ª–µ–∫–∞—é—Ç? (–Ω–∞—É–∫–∞, –∏—Å–∫—É—Å—Å—Ç–≤–æ, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, –ø—Ä–∏—Ä–æ–¥–∞, —Å–ø–æ—Ä—Ç –∏ —Ç.–¥.)</label>
            <textarea id="q9" rows="3" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –∫–æ—Å–º–æ—Å, –ø—Å–∏—Ö–æ–ª–æ–≥–∏—è, –∫–æ–¥, –∫–Ω–∏–≥–∏"></textarea>
            <button id="mic-btn3">üé§ –ì–æ–≤–æ—Ä–∏—Ç—å</button>
        </div>

        <div class="question">
            <label>10. –ö–∞–∫–æ–π –≥—Ä–∞—Ñ–∏–∫ –≤–∞–º –ø–æ–¥—Ö–æ–¥–∏—Ç?</label>
            <select id="q10">
                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ...</option>
                <option value="9-18">9:00‚Äì18:00 (–æ—Ñ–∏—Å)</option>
                <option value="–≥–∏–±–∫–∏–π">–ì–∏–±–∫–∏–π</option>
                <option value="–Ω–æ—á–Ω–æ–π">–ù–æ—á–Ω–æ–π / —Å–º–µ–Ω–Ω—ã–π</option>
                <option value="—É–¥–∞–ª—ë–Ω–∫–∞">–£–¥–∞–ª—ë–Ω–∫–∞ / —Ñ—Ä–∏–ª–∞–Ω—Å</option>
            </select>
        </div>

        <button id="submit-btn">üîç –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</button>
    </div>

    <div id="loading" class="loading" style="display: none;">–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –≤–∞—à–∏ –æ—Ç–≤–µ—Ç—ã... ü§ñ</div>
    <div id="results">
        <h2>üéØ –í–∞—à–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏:</h2>
        <div id="results-list"></div>
    </div>

    <script>
    // –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π: –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏ –∏ –∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
    const professions = [
      {
        name: "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç / –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫",
        traits: { q1: "–∏–Ω—Ç—Ä–æ–≤–µ—Ä—Ç", q2: "—Å–≤–æ–±–æ–¥–∞", q3: "—Ç–µ—Ä–ø–∏–º–æ", q4: ["–∫–æ–¥", "–ª–æ–≥–∏–∫–∞", "–∞–Ω–∞–ª–∏–∑", "—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏"], q5: "–æ–¥–∏–Ω", q6: "–≤—ã—Å–æ–∫–∞—è", q7: "–≤—ã—Å–æ–∫–∏–π", q8: "–¥–∞", q9: ["—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏", "–Ω–∞—É–∫–∞", "–∫–æ–º–ø—å—é—Ç–µ—Ä—ã"], q10: "—É–¥–∞–ª—ë–Ω–∫–∞" },
        score: 0
      },
      {
        name: "–ü—Å–∏—Ö–æ–ª–æ–≥ / –ö–æ—É—á",
        traits: { q1: "–∏–Ω—Ç—Ä–æ–≤–µ—Ä—Ç", q2: "–ø–æ–º–æ—â—å", q3: "—Ç–µ—Ä–ø–∏–º–æ", q4: ["–æ–±—â–∞—Ç—å—Å—è", "–ø–æ–Ω–∏–º–∞—Ç—å", "—Å–ª—É—à–∞—Ç—å"], q5: "–∫–ª–∏–µ–Ω—Ç—ã", q6: "—Å—Ä–µ–¥–Ω—è—è", q7: "—Å—Ä–µ–¥–Ω–∏–π", q8: "–¥–∞", q9: ["–ø—Å–∏—Ö–æ–ª–æ–≥–∏—è", "–ª—é–¥–∏", "—á—É–≤—Å—Ç–≤–∞"], q10: "–≥–∏–±–∫–∏–π" },
        score: 0
      },
      {
        name: "–ú–∞—Ä–∫–µ—Ç–æ–ª–æ–≥ / –ö–æ–Ω—Ç–µ–Ω—Ç-–º–µ–Ω–µ–¥–∂–µ—Ä",
        traits: { q1: "—ç–∫—Å—Ç—Ä–∞–≤–µ—Ä—Ç", q2: "—Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ", q3: "–Ω–µ–Ω–∞–≤–∏–∂—É", q4: ["–ø–∏—Å–∞—Ç—å", "—Ç–≤–æ—Ä–∏—Ç—å", "–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å"], q5: "–∫–æ–º–∞–Ω–¥–∞", q6: "—Å—Ä–µ–¥–Ω—è—è", q7: "—Å—Ä–µ–¥–Ω–∏–π", q8: "–Ω–µ—Ç", q9: ["–∏—Å–∫—É—Å—Å—Ç–≤–æ", "–º–µ–¥–∏–∞", "—Å–æ—Ü—Å–µ—Ç–∏"], q10: "–≥–∏–±–∫–∏–π" },
        score: 0
      },
      {
        name: "–£—á–∏—Ç–µ–ª—å / –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å",
        traits: { q1: "—ç–∫—Å—Ç—Ä–∞–≤–µ—Ä—Ç", q2: "–ø–æ–º–æ—â—å", q3: "–ª—é–±–ª—é", q4: ["–æ–±—ä—è—Å–Ω—è—Ç—å", "–æ—Ä–≥–∞–Ω–∏–∑–æ–≤—ã–≤–∞—Ç—å", "–ø–æ–º–æ–≥–∞—Ç—å"], q5: "–∫–ª–∏–µ–Ω—Ç—ã", q6: "–Ω–∏–∑–∫–∞—è", q7: "—Å—Ä–µ–¥–Ω–∏–π", q8: "–¥–∞", q9: ["–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ", "–¥–µ—Ç–∏", "–Ω–∞—É–∫–∞"], q10: "9-18" },
        score: 0
      },
      {
        name: "–§—Ä–∏–ª–∞–Ω—Å–µ—Ä / –î–∏–∑–∞–π–Ω–µ—Ä",
        traits: { q1: "–∏–Ω—Ç—Ä–æ–≤–µ—Ä—Ç", q2: "—Å–≤–æ–±–æ–¥–∞", q3: "–Ω–µ–Ω–∞–≤–∏–∂—É", q4: ["—Ä–∏—Å–æ–≤–∞—Ç—å", "–¥–∏–∑–∞–π–Ω", "—Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ"], q5: "–æ–¥–∏–Ω", q6: "—Å—Ä–µ–¥–Ω—è—è", q7: "—Å—Ä–µ–¥–Ω–∏–π", q8: "–Ω–µ—Ç", q9: ["–∏—Å–∫—É—Å—Å—Ç–≤–æ", "–¥–∏–∑–∞–π–Ω", "–∫—Ä–∞—Å–æ—Ç–∞"], q10: "—É–¥–∞–ª—ë–Ω–∫–∞" },
        score: 0
      },
      {
        name: "–í—Ä–∞—á / –ú–µ–¥—Å–µ—Å—Ç—Ä–∞",
        traits: { q1: "—ç–∫—Å—Ç—Ä–∞–≤–µ—Ä—Ç", q2: "–ø–æ–º–æ—â—å", q3: "—Ç–µ—Ä–ø–∏–º–æ", q4: ["–∑–∞–±–æ—Ç–∏—Ç—å—Å—è", "–±—ã—Å—Ç—Ä–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å"], q5: "–∫–ª–∏–µ–Ω—Ç—ã", q6: "–≤—ã—Å–æ–∫–∞—è", q7: "—Å—Ä–µ–¥–Ω–∏–π", q8: "–¥–∞", q9: ["–º–µ–¥–∏—Ü–∏–Ω–∞", "–∑–¥–æ—Ä–æ–≤—å–µ", "–ª—é–¥–∏"], q10: "—Å–º–µ–Ω–Ω—ã–π" },
        score: 0
      },
      {
        name: "–ë—É—Ö–≥–∞–ª—Ç–µ—Ä / –ê–Ω–∞–ª–∏—Ç–∏–∫",
        traits: { q1: "–∏–Ω—Ç—Ä–æ–≤–µ—Ä—Ç", q2: "—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å", q3: "–ª—é–±–ª—é", q4: ["—Å—á–∏—Ç–∞—Ç—å", "–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å", "—Ç–æ—á–Ω–æ—Å—Ç—å"], q5: "–æ–¥–∏–Ω", q6: "–Ω–∏–∑–∫–∞—è", q7: "—Å—Ä–µ–¥–Ω–∏–π", q8: "–¥–∞", q9: ["—Ñ–∏–Ω–∞–Ω—Å—ã", "–¥–∞–Ω–Ω—ã–µ", "—á–∏—Å–ª–∞"], q10: "9-18" },
        score: 0
      },
      {
        name: "–ü—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å / –°—Ç–∞—Ä—Ç–∞–ø–µ—Ä",
        traits: { q1: "—ç–∫—Å—Ç—Ä–∞–≤–µ—Ä—Ç", q2: "–≤–ª–∏—è–Ω–∏–µ", q3: "–Ω–µ–Ω–∞–≤–∏–∂—É", q4: ["—É–ø—Ä–∞–≤–ª—è—Ç—å", "–ø—Ä–æ–¥–∞–≤–∞—Ç—å", "–∏–Ω–∏—Ü–∏–∞—Ç–∏–≤–∞"], q5: "–∫–ª–∏–µ–Ω—Ç—ã", q6: "–≤—ã—Å–æ–∫–∞—è", q7: "–≤—ã—Å–æ–∫–∏–π", q8: "–¥–∞", q9: ["–±–∏–∑–Ω–µ—Å", "–∏–Ω–Ω–æ–≤–∞—Ü–∏–∏", "—Ä—ã–Ω–æ–∫"], q10: "–≥–∏–±–∫–∏–π" },
        score: 0
      }
    ];

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏
    let recognition;
    if ('SpeechRecognition' in window || 'webkitSpeechRecognition' in window) {
      recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
      recognition.lang = 'ru-RU';
      recognition.interimResults = false;
      recognition.maxAlternatives = 1;
    } else {
      console.warn('–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ.');
    }

    // –ü—Ä–∏–≤—è–∑–∫–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω–æ–≤
    document.getElementById('mic-btn').addEventListener('click', () => speechInput('q1'));
    document.getElementById('mic-btn2').addEventListener('click', () => speechInput('q4'));
    document.getElementById('mic-btn3').addEventListener('click', () => speechInput('q9'));

    function speechInput(fieldId) {
      if (!recognition) {
        alert('–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –≤—Ä—É—á–Ω—É—é.');
        return;
      }

      const btn = document.getElementById(`mic-btn${fieldId === 'q1' ? '' : fieldId === 'q4' ? '2' : '3'}`);
      btn.textContent = 'Âê¨ÁùÄ...';
      btn.classList.add('active');

      recognition.onresult = (event) => {
        const transcript = event.results[0][0].transcript;
        document.getElementById(fieldId).value = transcript;
        btn.textContent = 'üé§ –ì–æ–≤–æ—Ä–∏—Ç—å';
        btn.classList.remove('active');
      };

      recognition.onerror = () => {
        btn.textContent = 'üé§ –ì–æ–≤–æ—Ä–∏—Ç—å';
        btn.classList.remove('active');
        alert('–û—à–∏–±–∫–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑.');
      };

      recognition.onend = () => {
        btn.textContent = 'üé§ –ì–æ–≤–æ—Ä–∏—Ç—å';
        btn.classList.remove('active');
      };

      recognition.start();
    }

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã
    document.getElementById('submit-btn').addEventListener('click', () => {
      const answers = {
        q1: document.getElementById('q1').value.toLowerCase(),
        q2: document.getElementById('q2').value,
        q3: document.getElementById('q3').value,
        q4: document.getElementById('q4').value.toLowerCase(),
        q5: document.getElementById('q5').value,
        q6: document.getElementById('q6').value,
        q7: document.getElementById('q7').value,
        q8: document.getElementById('q8').value,
        q9: document.getElementById('q9').value.toLowerCase(),
        q10: document.getElementById('q10').value
      };

      // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—É—Å—Ç—ã–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
      const required = ['q2', 'q3', 'q5', 'q6', 'q7', 'q8', 'q10'];
      for (let key of required) {
        if (!answers[key]) {
          alert(`–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å: ${['–í–∞–∂–Ω–æ—Å—Ç—å –≤ —Ä–∞–±–æ—Ç–µ', '–û—Ç–Ω–æ—à–µ–Ω–∏–µ –∫ —Ä—É—Ç–∏–Ω–µ', '–°—Ç–∏–ª—å —Ä–∞–±–æ—Ç—ã', '–°—Ç—Ä–µ—Å—Å–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å', '–î–æ—Ö–æ–¥', '–û–±—É—á–µ–Ω–∏–µ', '–ì—Ä–∞—Ñ–∏–∫'][required.indexOf(key)]}`);
          return;
        }
      }

      // –ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É
      document.getElementById('form-container').style.display = 'none';
      document.getElementById('loading').style.display = 'block';
      document.getElementById('results').style.display = 'none';

      // –ó–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –∑–∞–≥—Ä—É–∑–∫–∏
      setTimeout(() => {
        calculateRecommendations(answers);
        document.getElementById('loading').style.display = 'none';
        document.getElementById('results').style.display = 'block';
      }, 1500);
    });

    function calculateRecommendations(answers) {
      const resultsList = document.getElementById('results-list');
      resultsList.innerHTML = '';

      // –ö–æ–ø–∏—Ä—É–µ–º –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏ –¥–ª—è –æ—Ü–µ–Ω–∫–∏
      const scoredProfessions = [...professions];

      scoredProfessions.forEach(prof => {
        let score = 0;
        const traits = prof.traits;

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –∫–∞–∂–¥–æ–º—É –≤–æ–ø—Ä–æ—Å—É
        for (let q in traits) {
          if (!answers[q]) continue;

          const expected = traits[q];
          const actual = answers[q];

          if (Array.isArray(expected)) {
            // –î–ª—è —Å–ø–∏—Å–∫–æ–≤ (q4, q9): –∏—â–µ–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
            let matches = 0;
            expected.forEach(keyword => {
              if (actual.includes(keyword)) matches++;
            });
            score += matches * 2; // –ö–∞–∂–¥–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ = 2 –±–∞–ª–ª–∞
          } else {
            // –î–ª—è —Ç–æ—á–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π (q1, q2 –∏ —Ç.–¥.)
            if (actual.includes(expected) || expected.includes(actual)) {
              score += 5;
            }
          }
        }

        // –ë–æ–Ω—É—Å—ã –∑–∞ –ø–æ–ª–Ω—ã–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
        if (answers.q2 === traits.q2) score += 3;
        if (answers.q5 === traits.q5) score += 3;
        if (answers.q10 === traits.q10) score += 3;

        prof.score = score;
      });

      // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –±–∞–ª–ª–∞–º
      scoredProfessions.sort((a, b) => b.score - a.score);

      // –í—ã–≤–æ–¥–∏–º —Ç–æ–ø-5
      const topProfessions = scoredProfessions.filter(p => p.score > 0).slice(0, 5);

      if (topProfessions.length === 0) {
        resultsList.innerHTML = '<p class="result-item">–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –Ω–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —É—Ç–æ—á–Ω–∏—Ç—å –æ—Ç–≤–µ—Ç—ã.</p>';
        return;
      }

      topProfessions.forEach(prof => {
        const item = document.createElement('div');
        item.className = 'result-item';
        item.innerHTML = `
          <strong>${prof.name}</strong><br>
          <small>–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: ${prof.score}/50</small>
        `;
        resultsList.appendChild(item);
      });
    }
    </script>
</body>
</html>
